<!doctype html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Administrador GalleToon</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Lilita+One&display=swap"
            rel="stylesheet"
        />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        />
        <script>
            tailwind.config = {
                theme: {
                    extend: {
                        colors: {
                            principal: "#F23054",
                            secundario: "#F26699",
                            terciario: "#F2CE1B",
                            cuarto: "#D97218",
                            quinto: "#8C3E3E",
                        },
                        fontFamily: {
                            lilita: ["Lilita One", "sans-serif"],
                        },
                    },
                },
            };
        </script>
        <style>
            body {
                font-family: "Lilita One", sans-serif;
            }

            /* Clf23054f26699
        </style>
    </head>
    <body class="bg-gray-50 flex">
        <!-- Vertical Sidebar Navigation -->
        <nav
            class="fixed left-0 top-0 h-full w-64 bg-gradient-to-b from-principal to-secundario shadow-2xl z-40"
        >
            <div class="p-6">
                <a
                    href="#"
                    class="block text-2xl font-lilita text-white no-underline mb-8"
                >
                    <h1 class="text-center">GalleToon Admin</h1>
                </a>

                <div class="space-y-3">
                    <a
                        href="/api/admin"
                        class="flex items-center justify-center w-full bg-white bg-opacity-20 hover:bg-opacity-30 text-white px-4 py-3 rounded-xl font-lilita transition-all duration-300 hover:transform hover:scale-105 shadow-lg"
                    >
                        <i class="fas fa-home mr-3 text-lg"></i>
                        Inicio
                    </a>
                    <button
                        id="btn-manga-view"
                        class="flex items-center justify-center w-full bg-white bg-opacity-20 hover:bg-opacity-30 text-white px-4 py-3 rounded-xl font-lilita transition-all duration-300 hover:transform hover:scale-105 shadow-lg"
                    >
                        <i class="fas fa-book mr-3 text-lg"></i>
                        Gestión de Mangas
                    </button>
                    <button
                        id="btn-capitulos-view"
                        class="flex items-center justify-center w-full bg-white bg-opacity-20 hover:bg-opacity-30 text-white px-4 py-3 rounded-xl font-lilita transition-all duration-300 hover:transform hover:scale-105 shadow-lg"
                    >
                        <i class="fas fa-bookmark mr-3 text-lg"></i>
                        Gestión de Capítulos
                    </button>
                    <button
                        id="btn-usuarios-view"
                        class="flex items-center justify-center w-full bg-white bg-opacity-20 hover:bg-opacity-30 text-white px-4 py-3 rounded-xl font-lilita transition-all duration-300 hover:transform hover:scale-105 shadow-lg"
                    >
                        <i class="fas fa-users mr-3 text-lg"></i>
                        Gestión de Usuarios
                    </button>
                    <button
                        id="btn-transacciones-view"
                        class="flex items-center justify-center w-full bg-white bg-opacity-20 hover:bg-opacity-30 text-white px-4 py-3 rounded-xl font-lilita transition-all duration-300 hover:transform hover:scale-105 shadow-lg"
                    >
                        <i class="fas fa-credit-card mr-3 text-lg"></i>
                        Gestión de Transacciones
                    </button>
                    <button
                        id="btn-categorias-view"
                        class="flex items-center justify-center w-full bg-white bg-opacity-20 hover:bg-opacity-30 text-white px-4 py-3 rounded-xl font-lilita transition-all duration-300 hover:transform hover:scale-105 shadow-lg"
                    >
                        <i class="fas fa-tags mr-3 text-lg"></i>
                        Gestión de Categorías
                    </button>
                </div>

                <div class="absolute bottom-6 left-6 right-6">
                    <button
                        id="btn-logout"
                        class="flex items-center justify-center w-full bg-red-600 hover:bg-red-700 text-white px-4 py-3 rounded-xl font-lilita transition-all duration-300 hover:transform hover:scale-105 shadow-lg"
                    >
                        <i class="fas fa-sign-out-alt mr-3 text-lg"></i>
                        Cerrar Sesión
                    </button>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="ml-64 flex-1 p-8">
            <!-- Vista de Dashboard/Inicio -->
            <div id="dashboard-view" class="block">
                <div class="mb-8">
                    <h2 class="text-3xl font-lilita text-principal mb-2">
                        Panel de Control
                    </h2>
                    <p class="text-gray-600 font-lilita">
                        Bienvenido al administrador de GalleToon
                    </p>
                </div>

                <!-- Estadísticas Cards -->
                <div
                    class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"
                >
                    <!-- Card Usuarios -->
                    <div
                        class="bg-gradient-to-br from-principal to-secundario rounded-xl shadow-lg p-6 text-white transform hover:scale-105 transition-all duration-300"
                    >
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="font-lilita text-sm opacity-90">
                                    Usuarios Registrados
                                </p>
                                <p
                                    id="total-usuarios"
                                    class="text-3xl font-lilita"
                                >
                                    --
                                </p>
                            </div>
                            <div
                                class="bg-white bg-opacity-20 rounded-full p-3"
                            >
                                <i class="fas fa-users text-2xl"></i>
                            </div>
                        </div>
                    </div>

                    <!-- Card Mangas -->
                    <div
                        class="bg-gradient-to-br from-cuarto to-quinto rounded-xl shadow-lg p-6 text-white transform hover:scale-105 transition-all duration-300"
                    >
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="font-lilita text-sm opacity-90">
                                    Total de Mangas
                                </p>
                                <p
                                    id="total-mangas"
                                    class="text-3xl font-lilita"
                                >
                                    --
                                </p>
                            </div>
                            <div
                                class="bg-white bg-opacity-20 rounded-full p-3"
                            >
                                <i class="fas fa-book text-2xl"></i>
                            </div>
                        </div>
                    </div>

                    <!-- Card Transacciones del Día -->
                    <div
                        class="bg-gradient-to-br from-green-500 to-green-600 rounded-xl shadow-lg p-6 text-white transform hover:scale-105 transition-all duration-300"
                    >
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="font-lilita text-sm opacity-90">
                                    Transacciones Hoy
                                </p>
                                <p
                                    id="transacciones-hoy"
                                    class="text-3xl font-lilita"
                                >
                                    --
                                </p>
                            </div>
                            <div
                                class="bg-white bg-opacity-20 rounded-full p-3"
                            >
                                <i class="fas fa-credit-card text-2xl"></i>
                            </div>
                        </div>
                    </div>

                    <!-- Card Hora Actual -->
                    <div
                        class="bg-gradient-to-br from-terciario to-cuarto rounded-xl shadow-lg p-6 text-white transform hover:scale-105 transition-all duration-300"
                    >
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="font-lilita text-sm opacity-90">
                                    Hora Actual
                                </p>
                                <p
                                    id="hora-actual"
                                    class="text-2xl font-lilita"
                                >
                                    --:--
                                </p>
                                <p
                                    id="fecha-actual"
                                    class="text-sm font-lilita opacity-90"
                                >
                                    --/--/----
                                </p>
                            </div>
                            <div
                                class="bg-white bg-opacity-20 rounded-full p-3"
                            >
                                <i class="fas fa-clock text-2xl"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Gráficos y Actividad Reciente -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Actividad Reciente -->
                    <div class="bg-white rounded-xl shadow-lg p-6">
                        <h3
                            class="text-xl font-lilita text-principal mb-4 flex items-center"
                        >
                            <i class="fas fa-chart-line mr-3"></i>
                            Actividad Reciente
                        </h3>
                        <div id="actividad-reciente" class="space-y-3">
                            <div class="text-center text-gray-400 py-8">
                                <i class="fas fa-inbox text-4xl mb-2"></i>
                                <p class="font-lilita">
                                    No hay actividad reciente
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- Resumen de Ingresos -->
                    <div class="bg-white rounded-xl shadow-lg p-6">
                        <h3
                            class="text-xl font-lilita text-principal mb-4 flex items-center"
                        >
                            <i class="fas fa-dollar-sign mr-3"></i>
                            Resumen de Ingresos
                        </h3>
                        <div class="space-y-4">
                            <div
                                class="flex justify-between items-center p-3 bg-green-50 rounded-lg"
                            >
                                <span class="font-lilita text-gray-700"
                                    >Hoy</span
                                >
                                <span
                                    id="ingresos-hoy"
                                    class="font-lilita text-green-600"
                                    >$--.-</span
                                >
                            </div>
                            <div
                                class="flex justify-between items-center p-3 bg-blue-50 rounded-lg"
                            >
                                <span class="font-lilita text-gray-700"
                                    >Esta Semana</span
                                >
                                <span
                                    id="ingresos-semana"
                                    class="font-lilita text-blue-600"
                                    >$--.-</span
                                >
                            </div>
                            <div
                                class="flex justify-between items-center p-3 bg-purple-50 rounded-lg"
                            >
                                <span class="font-lilita text-gray-700"
                                    >Este Mes</span
                                >
                                <span
                                    id="ingresos-mes"
                                    class="font-lilita text-purple-600"
                                    >$--.-</span
                                >
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Vista de Mangas -->
            <div id="manga-view" class="hidden">
                <div class="mb-8">
                    <h2 class="text-3xl font-lilita text-principal mb-4">
                        Gestión de Mangas
                    </h2>
                    <div class="flex justify-between items-center mb-6">
                        <p class="text-gray-600 font-lilita">
                            Administra tu colección de mangas
                        </p>
                        <button
                            id="btn-agregar-manga"
                            class="bg-gradient-to-r from-principal to-secundario hover:from-secundario hover:to-principal text-white px-6 py-3 rounded-xl font-lilita transition-all duration-300 hover:transform hover:scale-105 shadow-lg flex items-center"
                        >
                            <i class="fas fa-plus mr-2"></i>
                            Nuevo Manga
                        </button>
                    </div>
                </div>

                <!-- Lista de Mangas -->
                <div class="bg-white rounded-xl shadow-lg overflow-hidden">
                    <div
                        class="p-6 bg-gradient-to-r from-principal to-secundario"
                    >
                        <h3
                            class="text-xl font-lilita text-white flex items-center"
                        >
                            <i class="fas fa-book mr-3"></i>
                            Mangas Disponibles
                        </h3>
                    </div>

                    <div id="loading-mangas" class="p-8 text-center">
                        <div
                            class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-principal"
                        ></div>
                        <p class="text-gray-500 font-lilita mt-2">
                            Cargando mangas...
                        </p>
                    </div>

                    <div id="lista-mangas" class="hidden">
                        <!-- Los mangas se cargarán dinámicamente aquí -->
                    </div>

                    <div id="no-mangas" class="hidden p-8 text-center">
                        <div class="text-gray-400 mb-4">
                            <i class="fas fa-book-open text-6xl"></i>
                        </div>
                        <p class="text-gray-500 font-lilita text-lg">
                            No hay mangas registrados
                        </p>
                        <p class="text-gray-400 font-lilita text-sm mt-2">
                            Agrega tu primer manga para comenzar
                        </p>
                    </div>
                </div>
            </div>

            <!-- Vista de Capítulos -->
            <div id="capitulos-view" class="hidden">
                <div class="mb-8">
                    <h2 class="text-3xl font-lilita text-principal mb-4">
                        Gestión de Capítulos
                    </h2>
                    <p class="text-gray-600 font-lilita">
                        Administra los capítulos de tus mangas
                    </p>
                </div>

                <div class="space-y-8">
                    <!-- Lista de Mangas -->
                    <div class="bg-white rounded-xl shadow-lg overflow-hidden">
                        <div
                            class="p-6 bg-gradient-to-r from-principal to-secundario"
                        >
                            <h3
                                class="text-xl font-lilita text-white flex items-center"
                            >
                                <i class="fas fa-book mr-3"></i>
                                Selecciona un Manga para gestionar sus Capítulos
                            </h3>
                        </div>

                        <div
                            id="loading-mangas-capitulos"
                            class="p-8 text-center"
                        >
                            <div
                                class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-principal"
                            ></div>
                            <p class="text-gray-500 font-lilita mt-2">
                                Cargando mangas...
                            </p>
                        </div>

                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th
                                            class="px-6 py-4 text-left font-lilita text-gray-700"
                                        >
                                            <i class="fas fa-bookmark mr-2"></i>
                                            Nombre del Manga
                                        </th>
                                        <th
                                            class="px-6 py-4 text-left font-lilita text-gray-700"
                                        >
                                            <i class="fas fa-cog mr-2"></i>
                                            Acción
                                        </th>
                                    </tr>
                                </thead>
                                <tbody
                                    id="mangas-capitulos-list"
                                    class="divide-y divide-gray-200"
                                >
                                    <!-- Los mangas se cargarán dinámicamente aquí -->
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Tabla de Capítulos -->
                    <div
                        id="capitulos-table"
                        class="bg-white rounded-xl shadow-lg overflow-hidden hidden"
                    >
                        <div
                            class="p-6 bg-gradient-to-r from-terciario to-cuarto border-b border-gray-100"
                        >
                            <div class="flex justify-between items-center">
                                <h3
                                    class="text-xl font-lilita text-white flex items-center"
                                >
                                    <i class="fas fa-list mr-3"></i>
                                    Capítulos del Manga:
                                    <span
                                        id="manga-seleccionado"
                                        class="ml-2 font-bold"
                                    ></span>
                                </h3>
                                <button
                                    id="btn-agregar-capitulo"
                                    class="bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white px-4 py-2 rounded-lg font-lilita transition-all duration-300 hover:transform hover:scale-105 shadow-lg flex items-center"
                                >
                                    <i class="fas fa-plus mr-2"></i>
                                    Agregar Capítulo
                                </button>
                            </div>
                        </div>

                        <div
                            id="loading-capitulos"
                            class="p-8 text-center hidden"
                        >
                            <div
                                class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-principal"
                            ></div>
                            <p class="text-gray-500 font-lilita mt-2">
                                Cargando capítulos...
                            </p>
                        </div>

                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th
                                            class="px-6 py-4 text-left font-lilita text-gray-700"
                                        >
                                            <i class="fas fa-hashtag mr-2"></i>
                                            Número
                                        </th>
                                        <th
                                            class="px-6 py-4 text-left font-lilita text-gray-700"
                                        >
                                            <i class="fas fa-bookmark mr-2"></i>
                                            Título del Capítulo
                                        </th>
                                        <th
                                            class="px-6 py-4 text-left font-lilita text-gray-700"
                                        >
                                            <i class="fas fa-file-alt mr-2"></i>
                                            Páginas
                                        </th>
                                        <th
                                            class="px-6 py-4 text-left font-lilita text-gray-700"
                                        >
                                            <i
                                                class="fas fa-dollar-sign mr-2"
                                            ></i>
                                            Precio
                                        </th>
                                        <th
                                            class="px-6 py-4 text-left font-lilita text-gray-700"
                                        >
                                            <i class="fas fa-cog mr-2"></i>
                                            Acciones
                                        </th>
                                    </tr>
                                </thead>
                                <tbody
                                    id="capitulos-list"
                                    class="divide-y divide-gray-200"
                                >
                                    <!-- Los capítulos se cargarán dinámicamente aquí -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Vista de Usuarios -->
            <div id="usuarios-view" class="hidden">
                <h2
                    class="text-3xl font-lilita text-principal text-center mb-8"
                >
                    Gestión de Usuarios
                </h2>

                    <!-- Tabla de Usuarios -->
                    <div class="bg-white rounded-xl shadow-lg overflow-hidden">
                        <div
                            class="p-6 bg-gradient-to-r from-principal to-secundario"
                        >
                            <h3
                                class="text-xl font-lilita text-white flex items-center"
                            >
                                <i class="fas fa-users mr-3"></i>
                                Usuarios Registrados
                            </h3>
                        </div>

                        <!-- Loading -->
                        <div id="loading-usuarios" class="p-8 text-center">
                            <div
                                class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-principal"
                            ></div>
                            <p class="text-gray-500 font-lilita mt-2">
                                Cargando usuarios...
                            </p>
                        </div>

                        <!-- Lista Dinámica -->
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th
                                            class="px-6 py-4 text-left font-lilita text-gray-700"
                                        >
                                            Usuario
                                        </th>
                                        <th
                                            class="px-6 py-4 text-left font-lilita text-gray-700"
                                        >
                                            Email
                                        </th>
                                        <th
                                            class="px-6 py-4 text-left font-lilita text-gray-700"
                                        >
                                            Rol
                                        </th>
                                        <th
                                            class="px-6 py-4 text-center font-lilita text-gray-700"
                                        >
                                            Acciones
                                        </th>
                                    </tr>
                                </thead>
                                <tbody
                                    id="lista-usuarios"
                                    class="divide-y divide-gray-200 hidden"
                                >
                                    <!-- se llena dinámicamente -->
                                </tbody>
                            </table>
                        </div>

                        <!-- Sin usuarios -->
                        <div id="no-usuarios" class="hidden p-8 text-center">
                            <i
                                class="fas fa-user-slash text-6xl text-gray-300 mb-4"
                            ></i>
                            <p class="text-gray-500 font-lilita">
                                No hay usuarios registrados.
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Vista de Transacciones -->
            <div id="transacciones-view" class="hidden">
                <h2
                    class="text-3xl font-lilita text-principal text-center mb-8"
                >
                    Gestión de Transacciones
                </h2>
                <div class="mb-8 flex justify-between items-center">
                  <h2 class="text-3xl font-lilita text-principal">Gestión de Transacciones</h2>
                </div>

                <div class="bg-white rounded-xl shadow-lg overflow-hidden">
                  <!-- Encabezado -->
                  <div class="p-6 bg-gradient-to-r from-green-500 to-green-600">
                    <h3 class="text-xl font-lilita text-white flex items-center">
                      <i class="fas fa-credit-card mr-3"></i>
                      Transacciones Stripe
                    </h3>
                  </div>

                  <!-- Loading -->
                  <div id="loading-transacciones" class="p-8 text-center">
                    <div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"></div>
                    <p class="text-gray-500 font-lilita mt-2">Cargando transacciones...</p>
                  </div>

                  <!-- Tabla de transacciones -->
                  <div class="overflow-x-auto">
                    <table class="w-full">
                      <thead class="bg-gray-50">
                        <tr>
                          <th class="px-6 py-4 font-lilita text-gray-700">Fecha</th>
                          <th class="px-6 py-4 font-lilita text-gray-700">Cliente</th>
                          <th class="px-6 py-4 font-lilita text-gray-700">Monto</th>
                          <th class="px-6 py-4 font-lilita text-gray-700">Estado</th>
                        </tr>
                      </thead>
                      <tbody id="lista-transacciones" class="divide-y divide-gray-200 hidden">
                        <!-- se rellenará dinámicamente -->
                      </tbody>
                    </table>
                  </div>

                  <!-- Sin transacciones -->
                  <div id="no-transacciones" class="hidden p-8 text-center">
                    <i class="fas fa-exclamation-circle text-6xl text-gray-300 mb-4"></i>
                    <p class="text-gray-500 font-lilita">No hay transacciones para mostrar.</p>
                  </div>
                </div>
            </div>

            <!-- Vista de Categorías -->
            <div id="categorias-view" class="hidden">
                <div class="mb-8">
                    <h2 class="text-3xl font-lilita text-principal mb-4">
                        Gestión de Categorías
                    </h2>
                    <div class="flex justify-between items-center mb-6">
                        <p class="text-gray-600 font-lilita">
                            Administra las categorías de manga disponibles
                        </p>
                        <button
                            id="btn-agregar-categoria"
                            class="bg-gradient-to-r from-principal to-secundario hover:from-secundario hover:to-principal text-white px-6 py-3 rounded-xl font-lilita transition-all duration-300 hover:transform hover:scale-105 shadow-lg flex items-center"
                        >
                            <i class="fas fa-plus mr-2"></i>
                            Nueva Categoría
                        </button>
                    </div>
                </div>

                <!-- Lista de Categorías -->
                <div class="bg-white rounded-xl shadow-lg overflow-hidden">
                    <div
                        class="p-6 bg-gradient-to-r from-principal to-secundario"
                    >
                        <h3
                            class="text-xl font-lilita text-white flex items-center"
                        >
                            <i class="fas fa-tags mr-3"></i>
                            Categorías Registradas
                        </h3>
                    </div>

                    <div id="loading-categorias" class="p-8 text-center">
                        <div
                            class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-principal"
                        ></div>
                        <p class="text-gray-500 font-lilita mt-2">
                            Cargando categorías...
                        </p>
                    </div>

                    <div id="lista-categorias" class="hidden">
                        <!-- Las categorías se cargarán dinámicamente aquí -->
                    </div>

                    <div id="no-categorias" class="hidden p-8 text-center">
                        <div class="text-gray-400 mb-4">
                            <i class="fas fa-folder-open text-6xl"></i>
                        </div>
                        <p class="text-gray-500 font-lilita text-lg">
                            No hay categorías registradas
                        </p>
                        <p class="text-gray-400 font-lilita text-sm mt-2">
                            Agrega tu primera categoría para comenzar
                        </p>
                    </div>
                </div>
            </div>
        </main>

        <!-- Modal para Agregar/Editar Manga -->
        <div
            id="modal-agregar-manga"
            class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50"
        >
            <div
                class="bg-white rounded-xl shadow-2xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto transform transition-all duration-300 scale-95 opacity-0"
                id="modal-manga-content"
            >
                <div
                    class="flex justify-between items-center p-6 border-b border-gray-100 bg-gradient-to-r from-principal to-secundario rounded-t-xl"
                >
                    <h2
                        id="modal-manga-title"
                        class="text-2xl font-lilita text-white flex items-center"
                    >
                        <i class="fas fa-book mr-3"></i>
                        <span>Nuevo Manga</span>
                    </h2>
                    <button
                        id="close-modal-agregar-manga"
                        class="text-white hover:text-gray-200 text-2xl font-bold transition-colors duration-200 hover:transform hover:scale-110"
                    >
                        <i class="fas fa-times"></i>
                    </button>
                </div>

                <form
                    id="form-agregar-manga"
                    class="p-6 space-y-6"
                    enctype="multipart/form-data"
                >
                    <input type="hidden" id="manga-id" name="id" />

                    <!-- Upload de imagen -->
                    <div class="space-y-4">
                        <label
                            for="manga-imagen"
                            class="block text-sm font-lilita text-principal mb-2"
                        >
                            <i class="fas fa-image mr-1"></i>
                            Portada del Manga:
                        </label>
                        <div class="flex items-center space-x-4">
                            <div class="flex-1">
                                <input
                                    type="file"
                                    id="manga-imagen"
                                    name="image"
                                    accept="image/*"
                                    class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-principal focus:ring-2 focus:ring-principal focus:ring-opacity-20 font-lilita transition-all duration-200"
                                />
                                <p class="text-xs text-gray-500 mt-1">
                                    Formatos: JPG, PNG, GIF, WEBP (Max: 5MB)
                                </p>
                            </div>
                            <div
                                id="preview-imagen"
                                class="w-20 h-28 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center bg-gray-50 hidden"
                            >
                                <img
                                    id="imagen-preview"
                                    class="w-full h-full object-cover rounded-lg"
                                    style="display: none"
                                />
                                <i
                                    class="fas fa-image text-gray-400 text-2xl"
                                    id="imagen-placeholder"
                                ></i>
                            </div>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="relative">
                            <label
                                for="manga-titulo"
                                class="block text-sm font-lilita text-principal mb-2"
                            >
                                <i class="fas fa-bookmark mr-1"></i>
                                Título del Manga:
                            </label>
                            <input
                                type="text"
                                id="manga-titulo"
                                name="title"
                                required
                                placeholder="Ej: One Piece, Naruto..."
                                class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-principal focus:ring-2 focus:ring-principal focus:ring-opacity-20 font-lilita transition-all duration-200"
                            />
                        </div>

                        <div class="relative">
                            <label
                                for="manga-genero"
                                class="block text-sm font-lilita text-principal mb-2"
                            >
                                <i class="fas fa-tags mr-1"></i>
                                Categoría:
                            </label>
                            <select
                                id="manga-genero"
                                name="genre"
                                required
                                class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-principal focus:ring-2 focus:ring-principal focus:ring-opacity-20 font-lilita transition-all duration-200"
                            >
                                <option value="">
                                    Selecciona una categoría
                                </option>
                                <!-- Las categorías se cargarán dinámicamente aquí -->
                            </select>
                            <div
                                class="flex items-center mt-2 text-xs text-gray-500"
                            >
                                <i class="fas fa-info-circle mr-1"></i>
                                <span
                                    >¿No encuentras la categoría?
                                    <a
                                        href="#"
                                        onclick="document.getElementById('btn-categorias-view').click(); App.cerrarModalManga();"
                                        class="text-principal hover:underline font-semibold"
                                        >Gestiona categorías aquí</a
                                    ></span
                                >
                            </div>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="relative">
                            <label
                                for="manga-autor"
                                class="block text-sm font-lilita text-principal mb-2"
                            >
                                <i class="fas fa-user mr-1"></i>
                                Autor:
                            </label>
                            <input
                                type="text"
                                id="manga-autor"
                                name="author"
                                placeholder="Nombre del autor (opcional)"
                                class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-principal focus:ring-2 focus:ring-principal focus:ring-opacity-20 font-lilita transition-all duration-200"
                            />
                        </div>

                        <div class="relative">
                            <label
                                for="manga-estado"
                                class="block text-sm font-lilita text-principal mb-2"
                            >
                                <i class="fas fa-info-circle mr-1"></i>
                                Estado:
                            </label>
                            <select
                                id="manga-estado"
                                name="status"
                                class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-principal focus:ring-2 focus:ring-principal focus:ring-opacity-20 font-lilita transition-all duration-200"
                            >
                                <option value="ongoing">En emisión</option>
                                <option value="completed">Completado</option>
                                <option value="hiatus">En pausa</option>
                            </select>
                        </div>
                    </div>

                    <div class="relative">
                        <label
                            for="manga-descripcion"
                            class="block text-sm font-lilita text-principal mb-2"
                        >
                            <i class="fas fa-align-left mr-1"></i>
                            Descripción/Sinopsis:
                        </label>
                        <textarea
                            id="manga-descripcion"
                            name="description"
                            rows="5"
                            required
                            placeholder="Describe la historia, personajes principales y qué hace único a este manga..."
                            class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-principal focus:ring-2 focus:ring-principal focus:ring-opacity-20 font-lilita transition-all duration-200 resize-none"
                        ></textarea>
                    </div>

                    <div class="flex space-x-3 pt-4">
                        <button
                            type="submit"
                            id="btn-guardar-manga"
                            class="flex-1 bg-gradient-to-r from-principal to-secundario hover:from-secundario hover:to-principal text-white py-3 px-6 rounded-lg font-lilita transition-all duration-300 hover:transform hover:scale-105 shadow-lg flex items-center justify-center"
                        >
                            <i class="fas fa-save mr-2"></i>
                            <span>Guardar Manga</span>
                        </button>
                        <button
                            type="button"
                            id="cancelar-agregar-manga"
                            class="flex-1 bg-gradient-to-r from-gray-400 to-gray-500 hover:from-gray-500 hover:to-gray-600 text-white py-3 px-6 rounded-lg font-lilita transition-all duration-300 hover:transform hover:scale-105 shadow-lg flex items-center justify-center"
                        >
                            <i class="fas fa-times mr-2"></i>
                            <span>Cancelar</span>
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Modal para Agregar/Editar Categoría -->
        <div
            id="modal-categoria"
            class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50"
        >
            <div
                class="bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 transform transition-all duration-300 scale-95 opacity-0"
                id="modal-categoria-content"
            >
                <div
                    class="flex justify-between items-center p-6 border-b border-gray-100 bg-gradient-to-r from-principal to-secundario rounded-t-xl"
                >
                    <h2
                        id="modal-categoria-title"
                        class="text-2xl font-lilita text-white flex items-center"
                    >
                        <i class="fas fa-tag mr-3"></i>
                        <span>Nueva Categoría</span>
                    </h2>
                    <button
                        id="close-modal-categoria"
                        class="text-white hover:text-gray-200 text-2xl font-bold transition-colors duration-200 hover:transform hover:scale-110"
                    >
                        <i class="fas fa-times"></i>
                    </button>
                </div>

                <form id="form-categoria" class="p-6 space-y-6">
                    <input type="hidden" id="categoria-id" />

                    <div class="relative">
                        <label
                            for="categoria-nombre"
                            class="block text-sm font-lilita text-principal mb-2"
                        >
                            <i class="fas fa-tag mr-1"></i>
                            Nombre de la Categoría:
                        </label>
                        <input
                            type="text"
                            id="categoria-nombre"
                            name="categoryName"
                            required
                            placeholder="Ej: Acción, Romance, Drama..."
                            class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-principal focus:ring-2 focus:ring-principal focus:ring-opacity-20 font-lilita transition-all duration-200"
                        />
                        <div
                            class="absolute inset-y-0 right-0 top-8 pr-3 flex items-center pointer-events-none"
                        >
                            <i class="fas fa-bookmark text-gray-300"></i>
                        </div>
                    </div>

                    <div class="relative">
                        <label
                            for="categoria-descripcion"
                            class="block text-sm font-lilita text-principal mb-2"
                        >
                            <i class="fas fa-align-left mr-1"></i>
                            Descripción:
                        </label>
                        <textarea
                            id="categoria-descripcion"
                            name="description"
                            rows="4"
                            required
                            placeholder="Describe esta categoría y qué tipo de manga incluye..."
                            class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-principal focus:ring-2 focus:ring-principal focus:ring-opacity-20 font-lilita transition-all duration-200 resize-none"
                        ></textarea>
                    </div>

                    <div class="flex space-x-3 pt-4">
                        <button
                            type="submit"
                            id="btn-guardar-categoria"
                            class="flex-1 bg-gradient-to-r from-principal to-secundario hover:from-secundario hover:to-principal text-white py-3 px-6 rounded-lg font-lilita transition-all duration-300 hover:transform hover:scale-105 shadow-lg flex items-center justify-center"
                        >
                            <i class="fas fa-save mr-2"></i>
                            <span>Guardar</span>
                        </button>
                        <button
                            type="button"
                            id="cancelar-categoria"
                            class="flex-1 bg-gradient-to-r from-gray-400 to-gray-500 hover:from-gray-500 hover:to-gray-600 text-white py-3 px-6 rounded-lg font-lilita transition-all duration-300 hover:transform hover:scale-105 shadow-lg flex items-center justify-center"
                        >
                            <i class="fas fa-times mr-2"></i>
                            <span>Cancelar</span>
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Modal para Ver/Editar Manga -->
        <div
            id="modal-editar-manga"
            class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50"
        >
            <div
                class="bg-white rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto"
            >
                <div
                    class="flex justify-between items-center p-6 border-b border-gray-200"
                >
                    <h2 class="text-2xl font-lilita text-principal">
                        Editar Manga
                    </h2>
                    <button
                        id="close-modal-manga"
                        class="text-gray-400 hover:text-principal text-2xl font-bold"
                    >
                        &times;
                    </button>
                </div>
                <form id="form-editar-manga" class="p-6 space-y-4">
                    <div>
                        <label
                            for="edit-manga-nombre"
                            class="block text-sm font-lilita text-principal mb-2"
                            >Nombre del Manga:</label
                        >
                        <input
                            type="text"
                            id="edit-manga-nombre"
                            name="nombre"
                            required
                            class="w-full px-3 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-principal font-lilita"
                        />
                    </div>
                    <div>
                        <label
                            for="edit-manga-genero"
                            class="block text-sm font-lilita text-principal mb-2"
                            >Género:</label
                        >
                        <select
                            id="edit-manga-genero"
                            name="genero"
                            required
                            class="w-full px-3 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-principal font-lilita"
                        >
                            <option value="">Selecciona un género</option>
                            <option value="action">Action</option>
                            <option value="adventure">Adventure</option>
                            <option value="drama">Drama</option>
                            <option value="romance">Romance</option>
                            <option value="sport">Sport</option>
                        </select>
                    </div>
                    <div>
                        <label
                            for="edit-manga-sinopsis"
                            class="block text-sm font-lilita text-principal mb-2"
                            >Sinopsis:</label
                        >
                        <textarea
                            id="edit-manga-sinopsis"
                            name="sinopsis"
                            rows="4"
                            required
                            class="w-full px-3 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-principal font-lilita"
                        ></textarea>
                    </div>
                    <div>
                        <label
                            for="edit-manga-portada"
                            class="block text-sm font-lilita text-principal mb-2"
                            >Portada (URL):</label
                        >
                        <input
                            type="url"
                            id="edit-manga-portada"
                            name="portada"
                            required
                            class="w-full px-3 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-principal font-lilita"
                        />
                    </div>
                    <div class="flex space-x-4 pt-4">
                        <button
                            type="submit"
                            class="flex-1 bg-principal hover:bg-secundario text-white py-2 px-4 rounded-lg font-lilita transition-colors duration-300"
                        >
                            Guardar Cambios
                        </button>
                        <button
                            type="button"
                            id="cancelar-editar-manga"
                            class="flex-1 bg-terciario hover:bg-cuarto text-principal py-2 px-4 rounded-lg font-lilita transition-colors duration-300"
                        >
                            Cancelar
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Modal para Agregar/Editar Capítulo -->
        <div
            id="modal-agregar-capitulo"
            class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50"
        >
            <div
                class="bg-white rounded-xl shadow-2xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto transform transition-all duration-300 scale-95 opacity-0"
                id="modal-capitulo-content"
            >
                <div
                    class="flex justify-between items-center p-6 border-b border-gray-100 bg-gradient-to-r from-terciario to-cuarto rounded-t-xl"
                >
                    <h2
                        id="modal-capitulo-title"
                        class="text-2xl font-lilita text-white flex items-center"
                    >
                        <i class="fas fa-plus mr-3"></i>
                        <span>Nuevo Capítulo</span>
                    </h2>
                    <button
                        id="close-modal-agregar-capitulo"
                        class="text-white hover:text-gray-200 text-2xl font-bold transition-colors duration-200 hover:transform hover:scale-110"
                    >
                        <i class="fas fa-times"></i>
                    </button>
                </div>

                <form
                    id="form-agregar-capitulo"
                    class="p-6 space-y-6"
                    enctype="multipart/form-data"
                >
                    <input type="hidden" id="capitulo-id" name="id" />

                    <!-- Upload de PDF -->
                    <div class="space-y-4">
                        <label
                            for="capitulo-pdf"
                            class="block text-sm font-lilita text-principal mb-2"
                        >
                            <i class="fas fa-file-pdf mr-1"></i>
                            Archivo PDF del Capítulo:
                        </label>
                        <div class="flex items-center space-x-4">
                            <div class="flex-1">
                                <input
                                    type="file"
                                    id="capitulo-pdf"
                                    name="pdf"
                                    accept=".pdf"
                                    required
                                    class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-principal focus:ring-2 focus:ring-principal focus:ring-opacity-20 font-lilita transition-all duration-200"
                                />
                                <p class="text-xs text-gray-500 mt-1">
                                    Solo archivos PDF (Max: 50MB)
                                </p>
                            </div>
                            <div
                                id="pdf-info"
                                class="hidden bg-blue-50 border border-blue-200 rounded-lg p-3 min-w-[120px]"
                            >
                                <div class="text-center">
                                    <i
                                        class="fas fa-file-pdf text-red-500 text-2xl mb-1"
                                    ></i>
                                    <p
                                        class="text-sm font-lilita text-gray-700"
                                    >
                                        <span id="pdf-pages">0</span> páginas
                                    </p>
                                    <p
                                        class="text-xs text-gray-500"
                                        id="pdf-size"
                                    >
                                        0 MB
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="relative">
                            <label
                                for="agregar-capitulo-numero"
                                class="block text-sm font-lilita text-principal mb-2"
                            >
                                <i class="fas fa-hashtag mr-1"></i>
                                Número del Capítulo:
                            </label>
                            <input
                                type="number"
                                id="agregar-capitulo-numero"
                                name="chapterNumber"
                                min="1"
                                required
                                placeholder="Ej: 1, 2, 3..."
                                class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-principal focus:ring-2 focus:ring-principal focus:ring-opacity-20 font-lilita transition-all duration-200"
                            />
                        </div>

                        <div class="relative">
                            <label
                                for="agregar-capitulo-precio"
                                class="block text-sm font-lilita text-principal mb-2"
                            >
                                <i class="fas fa-dollar-sign mr-1"></i>
                                Precio (GalleCoins):
                            </label>
                            <input
                                type="number"
                                id="agregar-capitulo-precio"
                                name="price"
                                min="0"
                                step="1"
                                required
                                placeholder="Ej: 10, 15, 20..."
                                class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-principal focus:ring-2 focus:ring-principal focus:ring-opacity-20 font-lilita transition-all duration-200"
                            />
                        </div>
                    </div>

                    <div class="relative">
                        <label
                            for="agregar-capitulo-nombre"
                            class="block text-sm font-lilita text-principal mb-2"
                        >
                            <i class="fas fa-bookmark mr-1"></i>
                            Título del Capítulo:
                        </label>
                        <input
                            type="text"
                            id="agregar-capitulo-nombre"
                            name="chapterTitle"
                            required
                            placeholder="Ej: El comienzo de una nueva era..."
                            class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-principal focus:ring-2 focus:ring-principal focus:ring-opacity-20 font-lilita transition-all duration-200"
                        />
                    </div>

                    <div class="relative">
                        <label
                            for="agregar-capitulo-sinopsis"
                            class="block text-sm font-lilita text-principal mb-2"
                        >
                            <i class="fas fa-align-left mr-1"></i>
                            Descripción/Sinopsis:
                        </label>
                        <textarea
                            id="agregar-capitulo-sinopsis"
                            name="description"
                            rows="4"
                            placeholder="Describe qué sucede en este capítulo..."
                            class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-principal focus:ring-2 focus:ring-principal focus:ring-opacity-20 font-lilita transition-all duration-200 resize-none"
                        ></textarea>
                    </div>

                    <div class="flex space-x-3 pt-4">
                        <button
                            type="submit"
                            id="btn-guardar-capitulo"
                            class="flex-1 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white py-3 px-6 rounded-lg font-lilita transition-all duration-300 hover:transform hover:scale-105 shadow-lg flex items-center justify-center"
                        >
                            <i class="fas fa-save mr-2"></i>
                            <span>Guardar Capítulo</span>
                        </button>
                        <button
                            type="button"
                            id="cancelar-agregar-capitulo"
                            class="flex-1 bg-gradient-to-r from-gray-400 to-gray-500 hover:from-gray-500 hover:to-gray-600 text-white py-3 px-6 rounded-lg font-lilita transition-all duration-300 hover:transform hover:scale-105 shadow-lg flex items-center justify-center"
                        >
                            <i class="fas fa-times mr-2"></i>
                            <span>Cancelar</span>
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Modal para Editar Capítulo -->
        <div
            id="modal-editar-capitulo"
            class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50"
        >
            <div
                class="bg-white rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto"
            >
                <div
                    class="flex justify-between items-center p-6 border-b border-gray-200"
                >
                    <h2 class="text-2xl font-lilita text-principal">
                        Editar Capítulo
                    </h2>
                    <button
                        id="close-modal-capitulo"
                        class="text-gray-400 hover:text-principal text-2xl font-bold"
                    >
                        &times;
                    </button>
                </div>
                <form id="form-editar-capitulo" class="p-6 space-y-4">
                    <div>
                        <label
                            for="edit-capitulo-numero"
                            class="block text-sm font-lilita text-principal mb-2"
                            >Número del Capítulo:</label
                        >
                        <input
                            type="number"
                            id="edit-capitulo-numero"
                            name="numero"
                            min="1"
                            required
                            class="w-full px-3 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-principal font-lilita"
                        />
                    </div>
                    <div>
                        <label
                            for="edit-capitulo-nombre"
                            class="block text-sm font-lilita text-principal mb-2"
                            >Nombre del Capítulo:</label
                        >
                        <input
                            type="text"
                            id="edit-capitulo-nombre"
                            name="nombre"
                            required
                            class="w-full px-3 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-principal font-lilita"
                        />
                    </div>
                    <div>
                        <label
                            for="edit-capitulo-precio"
                            class="block text-sm font-lilita text-principal mb-2"
                            >Precio del Capítulo:</label
                        >
                        <input
                            type="number"
                            id="edit-capitulo-precio"
                            name="precio"
                            min="0"
                            step="0.01"
                            required
                            class="w-full px-3 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-principal font-lilita"
                        />
                    </div>
                    <div>
                        <label
                            for="edit-capitulo-sinopsis"
                            class="block text-sm font-lilita text-principal mb-2"
                            >Sinopsis del Capítulo:</label
                        >
                        <textarea
                            id="edit-capitulo-sinopsis"
                            name="sinopsis"
                            rows="4"
                            required
                            class="w-full px-3 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-principal font-lilita"
                        ></textarea>
                    </div>
                    <div class="flex space-x-4 pt-4">
                        <button
                            type="submit"
                            class="flex-1 bg-principal hover:bg-secundario text-white py-2 px-4 rounded-lg font-lilita transition-colors duration-300"
                        >
                            Guardar Cambios
                        </button>
                        <button
                            type="button"
                            id="cancelar-editar-capitulo"
                            class="flex-1 bg-terciario hover:bg-cuarto text-principal py-2 px-4 rounded-lg font-lilita transition-colors duration-300"
                        >
                            Cancelar
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <script src="/js/admin.js"></script>
    </body>
</html>
